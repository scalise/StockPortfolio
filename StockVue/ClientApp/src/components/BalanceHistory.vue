<template>
    <div class="container">
        <LineChart v-if="loaded"
                    :chart-data="data"
                    :chart-labels="labels"
                    :options="options" />
    </div>
</template>

<script>
    import LineChart from '@/components/LineChart.vue'

    export default {
        name: 'BalanceHistory',
        components: { LineChart },
        props: {},
        data() {
            return {
                loaded: false,                
                options: null,
                data: [],
                labels: []
            }
        },
        async mounted() {
            this.loaded = false
            try {
                //EXAMPLE: Use API
                //const { userlist } = await fetch('/api/userlist')
                //this.chartdata = userlist

                
                let apidata =
                    [
                        { day: '2017–03–20', downloads: '123285' },
                        { day: '2017–03–21', downloads: '125225' },
                        { day: '2017–03–22', downloads: '145098' },
                        { day: '2017–03–23', downloads: '145098' },
                        { day: '2017–03–24', downloads: '145098' },
                        { day: '2017–03–25', downloads: '145098' },
                        { day: '2017–03–26', downloads: '145098' },
                        { day: '2017–03–27', downloads: '145098' },
                        { day: '2017–03–28', downloads: '145098' },
                        { day: '2017–03–29', downloads: '145098' },
                        { day: '2017–03–30', downloads: '145098' },
                        { day: '2017–03–31', downloads: '145098' },
                        { day: '2017–04–01', downloads: '145098' },
                        { day: '2017–04–02', downloads: '145098' },
                        { day: '2017–04–03', downloads: '145098' },
                        { day: '2017–04–04', downloads: '145098' },
                        { day: '2017–04–05', downloads: '145098' },
                        { day: '2017–04–06', downloads: '145098' },
                        { day: '2017–04–07', downloads: '145098' },
                        { day: '2017–04–08', downloads: '145098' },
                        { day: '2017–04–09', downloads: '145098' },
                        { day: '2017–04–10', downloads: '145098' },
                        { day: '2017–04–11', downloads: '145098' },
                        { day: '2017–04–12', downloads: '145098' },
                        { day: '2017–04–13', downloads: '145098' },
                        { day: '2017–04–14', downloads: '145098' },
                        { day: '2017–04–15', downloads: '145098' },
                        { day: '2017–04–16', downloads: '145098' },
                        { day: '2017–04–17', downloads: '145098' },
                        { day: '2017–04–18', downloads: '145098' },
                        { day: '2017–04–19', downloads: '145098' },
                        { day: '2017–04–20', downloads: '123285' },
                        { day: '2017–04–21', downloads: '125225' },
                        { day: '2017–04–22', downloads: '145098' },
                        { day: '2017–04–23', downloads: '145098' },
                        { day: '2017–04–24', downloads: '145098' },
                        { day: '2017–04–25', downloads: '145098' },
                        { day: '2017–04–26', downloads: '145098' },
                        { day: '2017–04–27', downloads: '145098' },
                        { day: '2017–04–28', downloads: '145098' },
                        { day: '2017–04–29', downloads: '145098' },
                        { day: '2017–04–30', downloads: '145098' },
                        { day: '2017–05–01', downloads: '145098' },
                        { day: '2017–05–02', downloads: '145098' },
                        { day: '2017–05–03', downloads: '145098' },
                        { day: '2017–05–04', downloads: '145098' },
                        { day: '2017–05–05', downloads: '145098' },
                        { day: '2017–05–06', downloads: '145098' },
                        { day: '2017–05–07', downloads: '145098' },
                        { day: '2017–05–08', downloads: '145098' },
                        { day: '2017–05–09', downloads: '145098' },
                        { day: '2017–05–10', downloads: '145098' },
                        { day: '2017–05–11', downloads: '145098' },
                        { day: '2017–05–12', downloads: '145098' },
                        { day: '2017–05–13', downloads: '145098' },
                        { day: '2017–05–14', downloads: '145098' },
                        { day: '2017–05–15', downloads: '145098' },
                        { day: '2017–05–16', downloads: '145098' },
                        { day: '2017–05–17', downloads: '145098' },
                        { day: '2017–05–18', downloads: '145098' },
                        { day: '2017–05–19', downloads: '145098' },
                        { day: '2017–05–20', downloads: '123285' },
                        { day: '2017–05–21', downloads: '125225' },
                        { day: '2017–05–22', downloads: '145098' },
                        { day: '2017–05–23', downloads: '145098' },
                        { day: '2017–05–24', downloads: '145098' },
                        { day: '2017–05–25', downloads: '145098' },
                        { day: '2017–05–26', downloads: '145098' },
                        { day: '2017–05–27', downloads: '145098' },
                        { day: '2017–05–28', downloads: '145098' },
                        { day: '2017–05–29', downloads: '145098' },
                        { day: '2017–05–30', downloads: '145098' },
                        { day: '2017–06–01', downloads: '145098' },
                        { day: '2017–06–02', downloads: '145098' },
                        { day: '2017–06–03', downloads: '145098' },
                        { day: '2017–06–04', downloads: '145098' },
                        { day: '2017–06–05', downloads: '145098' },
                        { day: '2017–06–06', downloads: '145098' },
                        { day: '2017–06–07', downloads: '145098' },
                        { day: '2017–06–08', downloads: '145098' },
                        { day: '2017–06–09', downloads: '145098' },
                        { day: '2017–06–10', downloads: '145098' },
                        { day: '2017–06–11', downloads: '145098' },
                        { day: '2017–06–12', downloads: '145098' },
                        { day: '2017–06–13', downloads: '145098' },
                        { day: '2017–06–14', downloads: '145098' },
                        { day: '2017–06–15', downloads: '145098' },
                        { day: '2017–06–16', downloads: '145098' },
                        { day: '2017–06–17', downloads: '145098' },
                        { day: '2017–06–18', downloads: '145098' },
                        { day: '2017–06–19', downloads: '145098' },
                        { day: '2017–06–20', downloads: '123285' },
                        { day: '2017–06–21', downloads: '125225' },
                        { day: '2017–06–22', downloads: '145098' },
                        { day: '2017–06–23', downloads: '145098' },
                        { day: '2017–06–24', downloads: '145098' },
                        { day: '2017–06–25', downloads: '145098' },
                        { day: '2017–06–26', downloads: '145098' },
                        { day: '2017–06–27', downloads: '145098' },
                        { day: '2017–06–28', downloads: '145098' },
                        { day: '2017–06–29', downloads: '145098' },
                        { day: '2017–06–30', downloads: '145098' },
                        { day: '2017–07–01', downloads: '145098' },
                        { day: '2017–07–02', downloads: '145098' },
                        { day: '2017–07–03', downloads: '145098' },
                        { day: '2017–07–04', downloads: '145098' },
                        { day: '2017–07–05', downloads: '145098' },
                        { day: '2017–07–06', downloads: '145098' },
                        { day: '2017–07–07', downloads: '145098' },
                        { day: '2017–07–08', downloads: '145098' },
                        { day: '2017–07–09', downloads: '145098' },
                        { day: '2017–07–10', downloads: '145098' },
                        { day: '2017–07–11', downloads: '145098' },
                        { day: '2017–07–12', downloads: '145098' },
                        { day: '2017–07–13', downloads: '145098' },
                        { day: '2017–07–14', downloads: '145098' },
                        { day: '2017–07–15', downloads: '145098' },
                        { day: '2017–07–16', downloads: '145098' },
                        { day: '2017–07–17', downloads: '145098' },
                        { day: '2017–07–18', downloads: '145098' },
                        { day: '2017–07–19', downloads: '145098' },
                        { day: '2017–07–20', downloads: '123285' },
                        { day: '2017–07–21', downloads: '125225' },
                        { day: '2017–07–22', downloads: '145098' },
                        { day: '2017–07–23', downloads: '145098' },
                        { day: '2017–07–24', downloads: '145098' },
                        { day: '2017–07–25', downloads: '145098' },
                        { day: '2017–07–26', downloads: '145098' },
                        { day: '2017–07–27', downloads: '145098' },
                        { day: '2017–07–28', downloads: '145098' },
                        { day: '2017–07–29', downloads: '145098' },
                        { day: '2017–07–30', downloads: '145098' },
                        { day: '2017–08–01', downloads: '145098' },
                        { day: '2017–08–02', downloads: '145098' },
                        { day: '2017–08–03', downloads: '145098' },
                        { day: '2017–08–04', downloads: '145098' },
                        { day: '2017–08–05', downloads: '145098' },
                        { day: '2017–08–06', downloads: '145098' },
                        { day: '2017–08–07', downloads: '145098' },
                        { day: '2017–08–08', downloads: '145098' },
                        { day: '2017–08–09', downloads: '145098' },
                        { day: '2017–08–10', downloads: '145098' },
                        { day: '2017–08–11', downloads: '145098' },
                        { day: '2017–08–12', downloads: '145098' },
                        { day: '2017–08–13', downloads: '145098' },
                        { day: '2017–08–14', downloads: '145098' },
                        { day: '2017–08–15', downloads: '145098' },
                        { day: '2017–08–16', downloads: '145098' },
                        { day: '2017–08–17', downloads: '145098' },
                        { day: '2017–08–18', downloads: '145098' },
                        { day: '2017–08–19', downloads: '145098' },
                        { day: '2017–08–20', downloads: '123285' },
                        { day: '2017–08–21', downloads: '125225' },
                        { day: '2017–08–22', downloads: '145098' },
                        { day: '2017–08–23', downloads: '145098' },
                        { day: '2017–08–24', downloads: '145098' },
                        { day: '2017–08–25', downloads: '145098' },
                        { day: '2017–08–26', downloads: '145098' },
                        { day: '2017–08–27', downloads: '145098' },
                        { day: '2017–08–28', downloads: '145098' },
                        { day: '2017–08–29', downloads: '145098' },
                        { day: '2017–08–30', downloads: '145098' },
                        { day: '2017–09–01', downloads: '145098' },
                        { day: '2017–09–02', downloads: '145098' },
                        { day: '2017–09–03', downloads: '145098' },
                        { day: '2017–09–04', downloads: '145098' },
                        { day: '2017–09–05', downloads: '145098' },
                        { day: '2017–09–06', downloads: '145098' },
                        { day: '2017–09–07', downloads: '145098' },
                        { day: '2017–09–08', downloads: '145098' },
                        { day: '2017–09–09', downloads: '145098' },
                        { day: '2017–09–10', downloads: '145098' },
                        { day: '2017–09–11', downloads: '145098' },
                        { day: '2017–09–12', downloads: '145098' },
                        { day: '2017–09–13', downloads: '145098' },
                        { day: '2017–09–14', downloads: '145098' },
                        { day: '2017–09–15', downloads: '145098' },
                        { day: '2017–09–16', downloads: '145098' },
                        { day: '2017–09–17', downloads: '145098' },
                        { day: '2017–09–18', downloads: '145098' },
                        { day: '2017–09–19', downloads: '145098' },
                        { day: '2017–09–20', downloads: '123285' },
                        { day: '2017–09–21', downloads: '125225' },
                        { day: '2017–09–22', downloads: '145098' },
                        { day: '2017–09–23', downloads: '145098' },
                        { day: '2017–09–24', downloads: '145098' },
                        { day: '2017–09–25', downloads: '145098' },
                        { day: '2017–09–26', downloads: '145098' },
                        { day: '2017–09–27', downloads: '145098' },
                        { day: '2017–09–28', downloads: '145098' },
                        { day: '2017–09–29', downloads: '145098' },
                        { day: '2017–09–30', downloads: '145098' },

                    ];

                this.data = apidata.map(x => x.downloads);
                this.labels = apidata.map(x => x.day);

                this.loaded = true

            } catch (e) {
                console.error(e)
            }
        }
    }
</script>